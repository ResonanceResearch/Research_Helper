# üß≠ Faculty Research Mentor (Fixed)
- Shows **all questions** (expandable preview), not limited to 6.
- **Never stuck** at the end: explicit **Finish** button, robust fallback if adaptive Q fails or API is unset.
- **Progress hits 100%** when finished.
- **Action Plan generated by GPT** (`/api/export`) and **rendered in-app**; download remains available.
- **Submit Session** sends anonymized JSON to KV.

## Deploy
1) Static front-end (GitHub Pages).
2) Cloudflare Worker:
```bash
npm i -g wrangler
wrangler login
wrangler secret put OPENAI_API_KEY
# set your KV id in wrangler.toml
wrangler deploy
```
3) In `index.html` set:
```html
<script>window.API_BASE="https://faculty-research-mentor-api.YOURNAME.workers.dev";</script>
```

## Endpoints
- `/api/suggest` ‚Üí chips (OpenAlex-enriched if identity given)
- `/api/next-question` ‚Üí tailored follow-up (or finish fallback)
- `/api/export` ‚Üí GPT-generated plan (text/plain)
- `/api/submit` ‚Üí optional session save to KV
- `/api/health`


## What's new (Nov 2025)

- **Checklist = all default questions.** We removed the expandable "Show all" and the progress checklist now reflects every default question (required + optional). Custom, GPT-generated questions are labeled **Custom**.
- **Voice input.** Click the üé§ button to dictate answers (Web Speech API).
- **Loading cues.** Inline ‚è≥ indicator + disabled controls while chips or a new question are generating.
- **Never-stuck submit.** At the end, the app fetches a concise follow-up; if none, it clearly marks the interview complete and prompts plan generation.
- **No duplicated prompts.** The front-end no longer calls OpenAI. The Worker owns **all** model prompts. "Download Plan" requests `/api/export` and saves `action-plan.txt`.
- **Sharper chips.** The Worker filters chips to be question-specific, blends relevant OpenAlex topics, and pulls from a small seed library only when relevant.
- **Concise adaptive questions.** The Worker constrains new questions to short, crisp follow-ups.
